"use client"
"use client";import*as d from"@radix-ui/react-dialog";import D from"react";function X(e){let t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function de({defaultProp:e,onChange:t}){let n=D.useState(e),[o]=n,r=D.useRef(o),u=X(t);return D.useEffect(()=>{r.current!==o&&(u(o),r.current=o)},[o,r,u]),n}function G({prop:e,defaultProp:t,onChange:n=()=>{}}){let[o,r]=de({defaultProp:t,onChange:n}),u=e!==void 0,w=u?e:o,p=X(n),h=D.useCallback(v=>{if(u){let l=typeof v=="function"?v(e):v;l!==e&&p(l)}else r(v)},[u,e,r,p]);return[w,h]}import A from"react";var Y=A.createContext({drawerRef:A.createRef(),overlayRef:A.createRef(),onAnimationStart:()=>{},onPress:()=>{},onRelease:()=>{},onMove:()=>{},dismissible:!0}),V=()=>A.useContext(Y);import m,{useEffect as Re}from"react";function I(e,{insertAt:t}={}){if(!e||typeof document=="undefined")return;let n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}I(`[vaul-drawer]{transform:translateY(var(--swipe-amount));touch-action:none;animation:show-dialog .5s cubic-bezier(.32,.72,0,1)}[vaul-drawer]:after{content:"";position:absolute;top:100%;background:inherit;background-color:inherit;left:0;right:0;height:200%}[vaul-drawer][data-state=closed]{animation:hide-dialog .5s cubic-bezier(.32,.72,0,1) forwards}[vaul-overlay]{animation:show-overlay .5s cubic-bezier(.32,.72,0,1)}[vaul-overlay][data-state=closed]{animation:hide-overlay .5s cubic-bezier(.32,.72,0,1) forwards}@keyframes show-dialog{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes hide-dialog{0%{transform:translateY(var(--hide-from, 0))}to{transform:translateY(100%)}}@keyframes show-overlay{0%{opacity:0}to{opacity:1}}@keyframes hide-overlay{0%{opacity:var(--opacity-from, 1)}to{opacity:0}}@media (hover: hover) and (pointer: fine){[vaul-drawer]{user-select:none}}
`);import{useLayoutEffect as me}from"react";function U(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function pe(){return j(/^Mac/)}function ge(){return j(/^iPhone/)}function ve(){return j(/^iPad/)||pe()&&navigator.maxTouchPoints>1}function we(){return ge()||ve()}function j(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}var F=typeof document!="undefined"&&window.visualViewport;function _(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Z(e){for(_(e)&&(e=e.parentElement);e&&!_(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}var he=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),O=0,N;function ee(e={}){let{isDisabled:t}=e;me(()=>{if(!t)return O++,O===1&&(we()?N=ye():N=Te()),()=>{O--,O===0&&N()}},[t])}function Te(){return U(x(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),x(document.documentElement,"overflow","hidden"))}function ye(){let e,t=0,n=l=>{e=Z(l.target),!(e===document.documentElement&&e===document.body)&&(t=l.changedTouches[0].pageY)},o=l=>{if(!e||e===document.documentElement||e===document.body){l.preventDefault();return}let i=l.changedTouches[0].pageY,P=e.scrollTop,E=e.scrollHeight-e.clientHeight;E!==0&&((P<=0&&i>t||P>=E&&i<t)&&l.preventDefault(),t=i)},r=l=>{let i=l.target;Q(i)&&i!==document.activeElement&&(l.preventDefault(),i.style.transform="translateY(-2000px)",i.focus(),requestAnimationFrame(()=>{i.style.transform=""}))},u=l=>{let i=l.target;Q(i)&&(i.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{i.style.transform="",F&&(F.height<window.innerHeight?requestAnimationFrame(()=>{J(i)}):F.addEventListener("resize",()=>J(i),{once:!0}))}))},w=()=>{window.scrollTo(0,0)},p=window.pageXOffset,h=window.pageYOffset,v=U(x(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),x(document.documentElement,"overflow","hidden"),x(document.body,"marginTop",`-${h}px`));window.scrollTo(0,0);let b=U(M(document,"touchstart",n,{passive:!1,capture:!0}),M(document,"touchmove",o,{passive:!1,capture:!0}),M(document,"touchend",r,{passive:!1,capture:!0}),M(document,"focus",u,!0),M(window,"scroll",w));return()=>{v(),b(),window.scrollTo(p,h)}}function x(e,t,n){let o=e.style[t];return e.style[t]=n,()=>{e.style[t]=o}}function M(e,t,n,o){return e.addEventListener(t,n,o),()=>{e.removeEventListener(t,n,o)}}function J(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=Z(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let o=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,u=n.getBoundingClientRect().bottom;r>u&&(n.scrollTop+=r-o)}e=n.parentElement}}function Q(e){return e instanceof HTMLInputElement&&!he.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}import*as te from"react";function Ee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function be(...e){return t=>e.forEach(n=>Ee(n,t))}function z(...e){return te.useCallback(be(...e),e)}var S={DURATION:.5,EASE:[.32,.72,0,1]},ne=8,oe=new Map;function g(e,t,n=!1){if(!e||!(e instanceof HTMLElement)||!t)return;let o={};Object.entries(t).forEach(([r,u])=>{if(r.startsWith("--")){e.style.setProperty(r,u);return}o[r]=e.style[r],e.style[r]=u}),!n&&oe.set(e,o)}function k(e,t){if(!e||!(e instanceof HTMLElement))return;let n=oe.get(e);if(!n){e.style={};return}t?e.style[t]=n[t]:Object.entries(n).forEach(([o,r])=>{e.style[o]=r})}function De({open:e,defaultOpen:t,onOpenChange:n,children:o,shouldScaleBackground:r,fixedHeight:u,dismissible:w=!0}){let[p=!1,h]=G({prop:e,defaultProp:t,onChange:n}),[v,b]=m.useState(!1),l=m.useRef(null),i=m.useRef(null),P=m.useRef(null),E=m.useRef(null),$=m.useRef(0),f=m.useRef(null),W=m.useRef(0);ee({isDisabled:!p||v||u});function H(){return(window.innerWidth-26)/window.innerWidth}function re(a){w&&(b(!0),i.current=new Date,a.target.setPointerCapture(a.pointerId),$.current=a.clientY)}function B(a,c){let s=a,T=new Date;if(window.getSelection().toString().length>0)return!1;if(E.current&&T.getTime()-E.current.getTime()<1e3)return E.current=new Date,!1;for(;s;){if(s.scrollHeight>s.clientHeight){if(s.role==="dialog"||s.getAttribute("vaul-drawer"))return!0;if(s.scrollTop>0)return E.current=new Date,!1;if(c&&s!==document.body)return E.current=new Date,!1}s=s.parentNode}return!0}function ie(a){var c;if(v){let s=$.current-a.clientY,T=s>0;if(!B(a.target,T))return;let y=((c=f.current)==null?void 0:c.getBoundingClientRect().height)||0;if(g(f.current,{transition:"none"}),s>0){g(f.current,{"--swipe-amount":`${Math.max(s*-1,-40)}px`});return}let R=Math.abs(s),C=document.querySelector("[vaul-drawer-wrapper]"),L=R/y,se=1-L;if(g(l.current,{opacity:`${se}`},!0),C&&l.current&&r){let ce=Math.min(H()+L*(1-H()),1),ue=8-L*8,fe=Math.max(0,14-L*14);g(C,{borderRadius:`${ue}px`,transform:`scale(${ce}) translateY(${fe}px)`,transition:"none"},!0)}g(f.current,{"--swipe-amount":`${R}px`})}}Re(()=>{W.current=window.visualViewport.height;function a(){var R,C;if(!f.current||u)return;let c=window.visualViewport.height,s=W.current-c,T=((R=f.current)==null?void 0:R.getBoundingClientRect().height)||0,y=(C=f.current)==null?void 0:C.getBoundingClientRect().top;T>c?f.current.style.height=`${c-y}px`:f.current.style.height="initial",f.current.style.bottom=`${s}px`}return window.visualViewport.addEventListener("resize",a),()=>window.visualViewport.removeEventListener("resize",a)},[]);function q(){var c,s;if(!w)return;h(!1);let a=((c=f.current)==null?void 0:c.getBoundingClientRect().height)||0;if(f.current){let T=getComputedStyle(f.current).getPropertyValue("--swipe-amount").slice(0,-2);g(f.current,{"--hide-from":`${Number(T).toFixed()}px`,"--hide-to":`${a.toFixed()}px`});let y=((s=l.current)==null?void 0:s.style.opacity)||1;g(l.current,{"--opacity-from":`${y}`})}}m.useEffect(()=>{if(!p&&r){let a=setTimeout(()=>{k(document.body)},200);return()=>clearTimeout(a)}},[p]);function K(){let a=document.querySelector("[vaul-drawer-wrapper]"),c=Number(getComputedStyle(f.current).getPropertyValue("--swipe-amount").slice(0,-2));g(f.current,{"--swipe-amount":"0px",transition:"transform 500ms cubic-bezier(0.32, 0.72, 0, 1)"}),r&&c>0&&p&&g(a,{borderRadius:`${ne}px`,overflow:"hidden",transform:`scale(${H()}) translateY(calc(env(safe-area-inset-top) + 14px))`,transformOrigin:"top",transitionProperty:"transform, border-radius",transitionDuration:`${S.DURATION}s`,transitionTimingFunction:`cubic-bezier(${S.EASE.join(",")})`},!0)}function ae(a){b(!1),P.current=new Date;let c=f.current?getComputedStyle(f.current).getPropertyValue("--swipe-amount").slice(0,-2):null;if(!B(a.target,!1)||!c||i.current===null)return;let s=a.clientY,T=P.current.getTime()-i.current.getTime(),y=$.current-s,R=Math.abs(y)/T;if(y>0){K();return}if(R>.4){q();return}if(s>window.innerHeight*.75){q();return}K()}function le(a){let c=document.querySelector("[vaul-drawer-wrapper]");!c||!r||(a.animationName==="show-dialog"?(g(document.body,{background:"black"},!0),g(c,{borderRadius:`${ne}px`,overflow:"hidden",transform:`scale(${H()}) translateY(calc(env(safe-area-inset-top) + 14px))`,transformOrigin:"top",transitionProperty:"transform, border-radius",transitionDuration:`${S.DURATION}s`,transitionTimingFunction:`cubic-bezier(${S.EASE.join(",")})`})):a.animationName==="hide-dialog"&&(k(c,"transform"),k(c,"borderRadius"),g(c,{transitionProperty:"transform, border-radius",transitionDuration:`${S.DURATION}s`,transitionTimingFunction:`cubic-bezier(${S.EASE.join(",")})`})))}return m.createElement(d.Root,{open:p,onOpenChange:a=>{h(a)}},m.createElement(Y.Provider,{value:{drawerRef:f,overlayRef:l,onAnimationStart:le,onPress:re,onRelease:ae,onMove:ie,dismissible:w}},o))}var Se=m.forwardRef(function({children:e,...t},n){let{overlayRef:o,onRelease:r}=V(),u=z(n,o);return m.createElement(d.Overlay,{onMouseUp:r,ref:u,"vaul-overlay":"",...t})}),Pe=m.forwardRef(function({children:e,onOpenAutoFocus:t,onPointerDownOutside:n,...o},r){let{drawerRef:u,onPress:w,onRelease:p,onAnimationStart:h,onMove:v,dismissible:b}=V(),l=z(r,u);return m.createElement(d.Content,{onAnimationStart:h,onPointerDown:w,onPointerUp:p,onPointerMove:v,onOpenAutoFocus:i=>{t?t(i):i.preventDefault()},onPointerDownOutside:i=>{b||i.preventDefault(),n==null||n(i)},ref:l,...o,"vaul-drawer":""},e)}),ze=Object.assign({},{Root:De,Content:Pe,Overlay:Se,Trigger:d.Trigger,Portal:d.Portal,Close:d.Close,Title:d.Title,Description:d.Description});export{ze as Drawer};
//# sourceMappingURL=index.mjs.map